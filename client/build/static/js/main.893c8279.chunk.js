(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),s=a(23),n=a.n(s),l=(a(28),a(6)),i=a(2),o=a(3),d=a.n(o),j=a(5),b=a(4),m=a(7),u=a.n(m),p=a(0),h=c.a.createContext(),x=function(e){var t=e.children,a=Object(r.useState)([]),c=Object(b.a)(a,2),s=c[0],n=c[1],l=Object(r.useState)(0),i=Object(b.a)(l,2),o=i[0],m=i[1],x=Object(r.useState)([]),f=Object(b.a)(x,2),O=f[0],v=f[1],g=Object(r.useState)(""),N=Object(b.a)(g,2),y=N[0],k=N[1],w=Object(r.useCallback)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://ekart-express-api.herokuapp.com/api/v1/products","?search=").concat(y));case 2:t=e.sent,n(t.data.products);case 4:case"end":return e.stop()}}),e)}))),[y]);Object(r.useEffect)((function(){w()}),[y,w]);var S=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(localStorage.getItem("ekartToken"))){e.next=6;break}return e.next=3,u.a.get("https://ekart-express-api.herokuapp.com/api/v1/cart",{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 3:t=e.sent,v(t.data.items),m(t.data.items.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[o]),Object(p.jsx)(h.Provider,{value:{products:s,getProducts:w,cartCount:o,setCartCount:m,cartItems:O,setCartItems:v,fetchCartItems:S,setSearch:k},children:t})},f=function(){return Object(r.useContext)(h)};var O=function(){var e=f().cartCount,t=!1,a=!1,r=localStorage.getItem("ekartToken"),c=JSON.parse(r);null!==r&&(t=!0,a=c.isSeller);var s=Object(i.f)();return Object(p.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{position:"fixed",width:"98.75vw",top:"0",zIndex:"100"},children:Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)(l.b,{to:"/",className:"navbar-brand fs-2",style:{color:"goldenrod",boxSizing:"border-box"},children:"GroXeries"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(p.jsxs)("ul",{className:"navbar-nav d-flex justify-content-evenly",style:{margin:"0 auto"},children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/",className:"navbar-brand nav-link",children:"Home"})}),t&&a?Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/products/add",className:"navbar-brand nav-link",children:"Add Product"})}):null,t&&!a?Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)(l.b,{to:"/cart",className:"navbar-brand nav-link",children:["Cart (",e,")"]})}):null,t&&a?Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/orders",className:"navbar-brand nav-link",children:"Orders"})}):null,Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/login",className:"navbar-brand nav-link",children:"Login"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/register",className:"navbar-brand nav-link",children:"Register"})})]}),Object(p.jsx)("div",{className:"d-flex flex-wrap justify-content-evenly",children:Object(p.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(p.jsx)("p",{className:"navbar-brand nav-link",style:{color:"#fff",margin:"auto"},children:t?"Hello, ".concat(c.userName.split(" ")[0],"!"):""}),t?Object(p.jsx)("button",{className:"btn btn btn-outline-danger",onClick:function(){console.log("Logout user"),localStorage.removeItem("ekartToken"),s("/",{replace:!0}),window.location.reload(!1)},children:"Logout"}):null]})})]})]})})},v="https://ekart-express-api.herokuapp.com/api/v1/products";var g=function(){var e=!1,t=!1,a="",c=localStorage.getItem("ekartToken"),s=JSON.parse(c);null!==c&&(e=!0,t=s.isSeller,a=s.cartId);var n=Object(i.f)(),o=f(),m=o.getProducts,h=o.setCartCount,x=o.cartCount,O=Object(i.g)().id,g=Object(r.useState)({}),N=Object(b.a)(g,2),y=N[0],k=N[1],w=Object(r.useState)(!1),S=Object(b.a)(w,2),C=S[0],I=S[1],R=Object(r.useCallback)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(v,"/").concat(O));case 2:t=e.sent,k(t.data.product);case 4:case"end":return e.stop()}}),e)}))),[O]),T=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("".concat(v,"/").concat(t),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 2:n("/",{replace:!0}),m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("/products/add",{state:y});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.patch("".concat("https://ekart-express-api.herokuapp.com/api/v1/cart","/").concat(a),y,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 2:I(!0),t=x,h(++t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){R()}),[R]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex flex-wrap row",style:{margin:"8rem 2rem"},children:[Object(p.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12",children:Object(p.jsx)("div",{className:"h-100 p-5 text-white bg-dark",children:Object(p.jsx)("picture",{children:Object(p.jsx)("img",{src:y.image,alt:y.name,style:{height:"10rem"},className:"img-fluid mx-auto d-block h-100 d-inline-block"})})})}),Object(p.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12",children:Object(p.jsxs)("div",{className:"h-100 p-5 bg-light border",children:[Object(p.jsx)("h2",{children:y.title}),Object(p.jsx)("p",{className:"card-text fst-normal",children:y.description}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Type: "}),y.type]}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Dimensions: "}),y.height," X ",y.width]}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Rating: "}),y.rating]}),Object(p.jsxs)("p",{className:"card-text fst-italic fs-5 fw-bold",children:["Price: ",y.price]}),e&&t?Object(p.jsxs)("div",{className:"btn-group gap-2",role:"group","aria-label":"Basic example",style:{width:"100%"},children:[Object(p.jsx)("button",{type:"button",className:"btn btn-primary",style:{width:"50%"},onClick:F,children:"Edit"}),Object(p.jsx)("button",{type:"button",className:"btn btn-danger",style:{width:"50%"},onClick:function(){return T(y._id)},children:"Delete"})]}):null,e&&!t?Object(p.jsx)("button",{type:"button",className:"btn btn-primary",style:{width:"100%"},onClick:E,children:"Add to Cart"}):null,C?Object(p.jsx)(l.b,{to:"/cart",className:"d-flex justify-content-center",style:{textDecoration:"none"},children:Object(p.jsx)("button",{style:{margin:"0 auto",width:"100%"},className:"btn btn-info",children:"Go to Cart"})}):null]})})]}),Object(p.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)("button",{type:"button",className:"btn btn-outline-success fw-bold",style:{width:"60%",borderRadius:"1.5rem",marginBottom:"2rem"},children:"Back To Home"})})})]})},N="https://products-api-express.herokuapp.com/api/v1/products";var y=function(){var e=Object(i.e)();console.log(e.state);var t=f().getProducts,a=Object(i.f)(),c=function(){return a("/",{replace:!0})},s=Object(r.useRef)(),n=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),b=Object(r.useRef)(),m=Object(r.useRef)(),h=Object(r.useRef)(),x=Object(r.useRef)(),O=function(){var e=Object(j.a)(d.a.mark((function e(){var a,r,i,j,p,f,O,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.current.value,r=n.current.value,i=l.current.value,j=o.current.value,p=b.current.value,f=m.current.value,O=h.current.value,v=x.current.value,e.next=10,u.a.post("".concat(N),{title:a,type:r,image:i,height:j,width:p,price:f,rating:O,description:v},{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 10:c(),t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var a=Object(j.a)(d.a.mark((function a(){var r,i,j,p,f,O,v,g;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.current.value,i=n.current.value,j=l.current.value,p=o.current.value,f=b.current.value,O=m.current.value,v=h.current.value,g=x.current.value,a.next=10,u.a.patch("".concat(N,"/").concat(e.state._id),{title:r,type:i,image:j,height:p,width:f,price:O,rating:v,description:g},{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 10:c(),t();case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{className:"border border-primary",style:{margin:"2rem",border:"1px solid lightgray",padding:"2rem",borderRadius:"1rem"},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Name of product",ref:s,defaultValue:e.state?e.state.title:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"type",className:"form-label",children:"Type"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"type",placeholder:"Type of product",ref:n,defaultValue:e.state?e.state.type:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"image",placeholder:"Image of product",ref:l,defaultValue:e.state?e.state.image:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"height",className:"form-label",children:"Height"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"height",placeholder:"Height of product",ref:o,defaultValue:e.state?e.state.height:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"width",className:"form-label",children:"Width"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"width",placeholder:"Width of product",ref:b,defaultValue:e.state?e.state.width:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"price",placeholder:"Price of product",ref:m,defaultValue:e.state?e.state.price:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"type",className:"form-label",children:"Rating"}),Object(p.jsx)("input",{type:"number",className:"form-control",id:"type",placeholder:"Rating of product",ref:h,defaultValue:e.state?e.state.rating:""})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(p.jsx)("textarea",{type:"text",className:"form-control",id:"description",placeholder:"Description of product",ref:x,defaultValue:e.state?e.state.description:""})]}),Object(p.jsx)("div",{className:"d-flex justify-content-center d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-primary",type:"button",style:{width:"80%"},onClick:e.state?v:O,children:e.state?"Edit":"Submit"})})]})})},k=a(10);var w=function(e){var t=e._id,a=e.description,r=e.image,c=e.title,s=e.price,n=(e.orderDetails,e.updatedCartTotal,f().fetchCartItems),l=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("".concat("https://ekart-express-api.herokuapp.com/api/v1/cart","/").concat(t),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token},data:{cartId:JSON.parse(localStorage.getItem("ekartToken")).cartId}});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container card",children:Object(p.jsxs)("div",{className:"row card-body",children:[Object(p.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-12 d-flex justify-content-center align-items-center",children:Object(p.jsx)("img",{style:{maxWidth:"10rem",margin:"0 auto"},alt:c,src:r})}),Object(p.jsxs)("div",{className:"col-lg-5 col-md-5 col-sm-6 col-xs-12 d-flex flex-column justify-content-center align-items-center",children:[Object(p.jsx)("p",{className:"fw-bold fs-4",children:c}),Object(p.jsx)("p",{style:{width:"10rem"},children:a})]}),Object(p.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-12 col-xs-12 d-flex justify-content-center align-items-center",children:Object(p.jsxs)("p",{className:"fw-bold fs-4",children:["\u20b9 ",s]})}),Object(p.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-12 col-xs-12 d-flex justify-content-center align-items-center",children:Object(p.jsx)("button",{className:"btn btn-danger",onClick:l,children:"Remove"})})]})})};var S=function(){var e=Object(i.f)(),t=f(),a=t.cartCount,r=t.cartItems,c=r.map((function(e){return{_id:e._id,title:e.title,price:e.price,quantity:1,total:0}})),s=r.reduce((function(e,t){return e+=parseFloat(t.price)}),0);return Object(p.jsxs)("div",{className:"container",style:{marginTop:"8rem",marginBottom:"1rem"},children:[Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsxs)("p",{className:"fw-bold fs-3",children:["You have ",a," items in your cart"]})}),Object(p.jsx)("hr",{className:"bg-danger border-2 border-top border-dark"}),r.map((function(e){return Object(p.jsx)(w,Object(k.a)(Object(k.a)({},e),{},{orderDetails:c}),e._id)})),Object(p.jsxs)("div",{className:"d-flex flex-wrap justify-content-around",style:{margin:"0 auto",border:"1px solid lightgray",padding:"1rem"},children:[Object(p.jsxs)("p",{className:"fs-3",children:["Total: ",s]}),s>0?Object(p.jsx)("button",{className:"btn btn-warning",style:{borderRadius:"3rem"},onClick:function(){e("/checkout#total=".concat(s),{state:c})},children:"Proceed to checkout"}):Object(p.jsx)("button",{className:"btn btn-warning",style:{borderRadius:"3rem"},disabled:!0,children:"Proceed to checkout"})]})]})};var C=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),n=Object(b.a)(s,2),l=n[0],o=n[1],m=Object(r.useRef)(),h=Object(r.useRef)(),x=Object(r.useRef)(),f=Object(i.f)(),O=function(e){console.log("User type: "+e.target.value),"seller"===e.target.value?o(!0):o(!1)},v=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={name:"",email:"",password:""}).name=m.current.value,t.email=h.current.value,t.password=x.current.value,t.isSeller=l,""!==t.name&&""!==t.email&&""!==t.password){e.next=8;break}return c("User name, email, password cannot be empty!"),e.abrupt("return");case 8:return e.prev=8,e.next=11,u.a.post("".concat("https://ekart-express-api.herokuapp.com/api/v1/auth/register"),t);case 11:f("/",{replace:!0}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.log("User registration failed, try again!");case 17:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container",style:{marginTop:"8rem"},children:Object(p.jsxs)("form",{className:"border border-primary",style:{margin:"2rem",border:"1px solid lightgray",padding:"2rem",borderRadius:"1rem"},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter a Username",ref:m})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter an Email Id",ref:h})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",ref:x})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("p",{children:"Are you a seller?"}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"seller",onChange:O,value:"seller"}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"seller",children:"Yes"})]}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"customer",onChange:O,value:"customer"}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"customer",children:"No"})]})]}),a?Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(p.jsx)("div",{className:"d-flex justify-content-center",style:{margin:"2rem auto"},children:a})}):"",Object(p.jsx)("div",{className:"d-flex justify-content-center d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-success",type:"button",style:{width:"80%"},onClick:v,children:"Register"})})]})})};var I=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(i.f)(),n=Object(r.useRef)(),l=Object(r.useRef)(),o=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={email:"",password:""}).email=n.current.value,t.password=l.current.value,""!==t.email&&""!==t.password){e.next=6;break}return c("Email and password cannot be empty!"),e.abrupt("return");case 6:return e.next=8,u.a.post("".concat("https://ekart-express-api.herokuapp.com/api/v1/auth/login"),t);case 8:a=e.sent,r={token:a.data.token,userName:a.data.user,isSeller:a.data.isSeller,cartId:a.data.cartId},console.log("Logged in user: ",r),localStorage.setItem("ekartToken",JSON.stringify(r)),s("/",{replace:!0}),window.location.reload(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container",style:{marginTop:"8rem"},children:Object(p.jsxs)("form",{className:"border border-primary",style:{margin:"2rem",border:"1px solid lightgray",padding:"2rem",borderRadius:"1rem"},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter an Email Id",ref:n})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",ref:l})]}),a?Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(p.jsx)("div",{className:"d-flex justify-content-center",style:{margin:"2rem auto"},children:a})}):"",Object(p.jsx)("div",{className:"d-flex justify-content-center d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-primary",type:"button",style:{width:"80%"},onClick:o,children:"Login"})})]})})};var R=function(){return Object(p.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{margin:"35vh auto"},children:[Object(p.jsx)("p",{className:"fs-1 text-danger fw-bold",children:"Route does not exist!"}),Object(p.jsx)(l.b,{to:"/",children:Object(p.jsx)("button",{className:"btn btn-primary",children:"Back To Home"})})]})};var T=function(){var e=f(),t=e.setCartCount,a=e.fetchCartItems,c=Object(i.e)(),s=c.hash,n=parseFloat(s.split("=")[1]).toFixed(2),o=Object(r.useRef)(),m=Object(r.useRef)(),h=Object(r.useRef)(),x=Object(r.useRef)(),O=Object(r.useRef)(),v=Object(r.useState)(""),g=Object(b.a)(v,2),N=g[0],y=g[1],k=Object(r.useState)(!1),w=Object(b.a)(k,2),S=w[0],C=w[1],I=function(){var e=Object(j.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r={name:"",mobile:"",address:"",pincode:"",landMark:"",totalAmount:parseFloat(n)+parseFloat(50),orderDetails:[]}).name=o.current.value,r.mobile=m.current.value,r.address=h.current.value,r.pincode=x.current.value,r.landMark=O.current.value,r.orderDetails=c.state,""!==r.name&&""!==r.mobile&&""!==r.address&&""!==r.pincode){e.next=10;break}return y("All the fields except Landmark are mandatory!"),e.abrupt("return");case 10:return e.next=12,u.a.post("".concat("https://ekart-express-api.herokuapp.com/api/v1/orders"),r,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token},params:{cartId:JSON.parse(localStorage.getItem("ekartToken")).cartId}});case 12:C(!0),t(0),a();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"d-flex flex-wrap justify-content-around",style:{marginTop:"5.5rem"},children:[Object(p.jsxs)("form",{className:"border border-primary",style:{margin:"2rem",border:"1px solid lightgray",padding:"2rem",borderRadius:"1rem",width:"30rem"},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter full name",ref:o})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"mobile",className:"form-label",children:"Mobile"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"mobile",placeholder:"Enter mobile number",ref:m})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"Enter your address",ref:h})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"pincode",placeholder:"Enter pincode",ref:x})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"landmark",className:"form-label",children:"Landmark"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"landmark",placeholder:"Enter a landmark if any",ref:O})]}),S?"":Object(p.jsx)("div",{className:"d-flex justify-content-center d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-primary",type:"button",style:{width:"80%"},onClick:I,children:"Place Order"})}),Object(p.jsx)("div",{style:{margin:"2rem"},children:N?Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(p.jsx)("div",{className:"d-flex justify-content-center",style:{margin:"2rem auto"},children:N})}):""})]}),S?Object(p.jsxs)("div",{style:{border:"1px solid lightgray",height:"10rem",padding:"2rem",margin:"2rem",borderRadius:"1rem"},className:"alert alert-success",children:[Object(p.jsx)("p",{children:"Order placed successfully!"}),Object(p.jsx)("p",{children:"We will update you the status of your order soon."}),Object(p.jsx)(l.b,{to:"/",className:"d-flex",style:{textDecoration:"none"},children:Object(p.jsx)("button",{className:"btn btn-success",style:{margin:"0 auto"},children:"Back to Shopping"})})]}):Object(p.jsxs)("div",{style:{margin:"2rem",border:"1px solid lightgray",padding:"2rem",borderRadius:"1rem",width:"20rem",height:"20rem",boxSizing:"border-box"},children:[Object(p.jsx)("p",{className:"fs-4 fw-bold",children:"Order Summary"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"fw-bold",children:"Items:"})," \u20b9",n]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"fw-bold",children:"Delivery Charges:"})," \u20b9",50]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:"fs-5 fw-bolder text-danger",children:["Order Total: \u20b9",parseFloat(n)+parseFloat(50)]})}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"fs-6 text-muted",children:"NOTE: We only support COD for now!"})]})]})};var F=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1],n=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("ekartToken")){e.next=6;break}return e.next=3,u.a.get("https://ekart-express-api.herokuapp.com/api/v1/orders",{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("ekartToken")).token}});case 3:t=e.sent,console.log(t.data.products),s(t.data.products);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){n()}),[]),Object(p.jsx)("div",{children:a.map((function(e){return Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{className:"card-body row",children:[Object(p.jsxs)("div",{className:"col-lg-2 col-md-12 col-sm-12 col-xs-12 d-flex flex-column justify-content-center align-items-center",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Order ID:"})," ",e._id]}),Object(p.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 d-flex flex-column justify-content-center align-items-center",children:[Object(p.jsx)("p",{className:"fw-bold",children:e.address}),Object(p.jsx)("p",{className:"fw-bold",children:e.pincode}),Object(p.jsx)("p",{children:e.mobile}),Object(p.jsx)("p",{className:"fst-italic fw-lighter",children:e.landMark})]}),Object(p.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 d-flex justify-content-center align-items-center",children:e.orderDetails.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("section",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(p.jsx)("label",{className:"fw-bold",children:e.title}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:["Price: ",e.price]}),Object(p.jsxs)("li",{children:["Quantity: ",e.quantity]})]})]})},e._id)}))}),Object(p.jsxs)("div",{className:"col-lg-2 col-md-12 col-sm-12 col-xs-12 d-flex justify-content-center align-items-center fw-bold",children:["Total: ",e.totalAmount]})]})},e._id)}))})};var E=function(){return Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{margin:"35vh auto"},children:Object(p.jsx)("p",{className:"fs-1 fw-bold",children:"Loading..."})})};var D=function(e){var t=e._id,a=e.image,r=e.title,c=e.type,s=e.description,n=e.price,i=e.rating,o=e.height,d=e.width;return Object(p.jsxs)("div",{className:"card",style:{width:"18rem",marginBottom:"1rem",marginTop:"1rem",boxSizing:"border-box"},children:[Object(p.jsx)("img",{src:a,className:"card-img-top",alt:r,style:{maxHeight:"10rem"}}),Object(p.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{className:"card-title fs-4 fw-bolder",children:r}),Object(p.jsx)("p",{className:"card-text fst-normal",children:s.length>40?s.substring(0,30)+"...":s}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Type: "}),c]}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Dimensions: "}),o," X ",d]}),Object(p.jsxs)("p",{className:"card-text",children:[Object(p.jsx)("span",{className:"fw-bold",children:"Rating: "}),i]}),Object(p.jsxs)("p",{className:"card-text fst-italic fs-5 fw-bold",children:["Price: \u20b9",n]})]}),Object(p.jsx)("div",{children:Object(p.jsx)(l.b,{to:"/products/".concat(t),children:Object(p.jsx)("button",{className:"btn btn-primary",style:{marginTop:"2rem",width:"100%",transformY:"-100"},children:"View"})})})]})]})};var P=function(){var e=f(),t=e.products,a=e.search;return 0===t.length&&""===a?Object(p.jsx)(E,{}):Object(p.jsx)("div",{className:"container d-flex flex-row justify-content-around flex-wrap",style:{marginTop:"10rem"},children:t.map((function(e){return Object(p.jsx)(D,Object(k.a)({},e),e._id)}))})};var B=function(){var e=f().setSearch,t=Object(r.useRef)();return Object(p.jsx)("div",{style:{position:"fixed",width:"98.75vw",zIndex:"10",top:"4rem"},children:Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(p.jsx)("div",{className:"form-control d-flex justify-content-center",style:{height:"4rem"},children:Object(p.jsx)("input",{type:"text",name:"name",id:"name",ref:t,onChange:function(){e(t.current.value)},className:"form-control",placeholder:"Search a grocery item",style:{textAlign:"center"}})})})})};var A=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(B,{}),Object(p.jsx)(P,{})]})};var J=function(){return Object(p.jsxs)(l.a,{children:[Object(p.jsx)(O,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/",element:Object(p.jsx)(A,{})}),Object(p.jsx)(i.a,{path:"/products/:id",element:Object(p.jsx)(g,{})}),Object(p.jsx)(i.a,{path:"/products/add",element:Object(p.jsx)(y,{})}),Object(p.jsx)(i.a,{path:"/cart",element:Object(p.jsx)(S,{})}),Object(p.jsx)(i.a,{path:"/login",element:Object(p.jsx)(I,{})}),Object(p.jsx)(i.a,{path:"/register",element:Object(p.jsx)(C,{})}),Object(p.jsx)(i.a,{path:"/checkout",element:Object(p.jsx)(T,{})}),Object(p.jsx)(i.a,{path:"/orders",element:Object(p.jsx)(F,{})}),Object(p.jsx)(i.a,{path:"*",element:Object(p.jsx)(R,{})})]})]})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),r(e),c(e),s(e),n(e)}))};n.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(x,{children:Object(p.jsx)(J,{})})}),document.getElementById("root")),z()}},[[49,1,2]]]);
//# sourceMappingURL=main.893c8279.chunk.js.map